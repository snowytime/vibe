import React from "react";
import { useVibe, Action, Theme as _Theme } from "../../../../context";

import "./styles.scss";

export const Theme = () => {
    const { theme, dispatch } = useVibe();
    const themeToggle = () =>
        dispatch({
            type: Action.setTheme,
            payload: { state: theme === "light" ? _Theme.dark : _Theme.light },
        });
    return (
        <>
            <div className='vibe__theme-toggle' onClick={themeToggle} role='button' tabIndex={0}>
                <div className={`vibe__theme-track ${theme}`}>
                    <div>ðŸŒœ</div>
                    <div className='vibe__theme-thumb' />
                    <div>ðŸŒž</div>
                </div>
            </div>
        </>
    );
};

const Resize = ({ onClick, enabled }: { onClick: () => void; enabled: boolean }) => (
    <div className='vibe__action' onClick={onClick} role='button' tabIndex={0}>
        <svg
            width='75%'
            viewBox='0 0 18 12'
            fill='none'
            xmlns='http://www.w3.org/2000/svg'
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore
            style={{ "--fill": enabled ? "hsl(var(--blue-400))" : "hsl(var(--accent-300))" }}
        >
            <path
                d='M7.6071 5.90268C7.6071 5.76241 7.56329 5.64843 7.47569 5.56076C7.39159 5.47308 7.28121 5.42925 7.14455 5.42925H3.55979L2.5138 5.46607L4.24836 3.78801C4.29391 3.74242 4.3272 3.68981 4.34823 3.63019C4.36925 3.57058 4.37976 3.51096 4.37976 3.45134C4.37976 3.31808 4.33421 3.20936 4.2431 3.1252C4.1555 3.03752 4.04687 2.99369 3.91721 2.99369C3.85414 2.99369 3.79282 3.00596 3.73325 3.03051C3.67368 3.05506 3.61761 3.09363 3.56505 3.14624L1.16294 5.54498C1.11389 5.59758 1.07359 5.65369 1.04205 5.71331C1.01402 5.77293 1 5.83605 1 5.90268C1 5.96581 1.01402 6.02718 1.04205 6.0868C1.07359 6.14641 1.11389 6.20252 1.16294 6.25513L3.56505 8.65387C3.61761 8.70647 3.67368 8.74505 3.73325 8.76959C3.79282 8.79414 3.85414 8.80642 3.91721 8.80642C4.04687 8.80642 4.1555 8.76433 4.2431 8.68017C4.33421 8.59249 4.37976 8.48203 4.37976 8.34876C4.37976 8.28564 4.36925 8.22427 4.34823 8.16465C4.3272 8.10503 4.29391 8.05418 4.24836 8.0121L2.5138 6.3393L3.55979 6.37086H7.14455C7.28121 6.37086 7.39159 6.32702 7.47569 6.23935C7.56329 6.15167 7.6071 6.03945 7.6071 5.90268ZM9 11C9.13666 11 9.2488 10.9562 9.3364 10.8685C9.424 10.7808 9.46781 10.6686 9.46781 10.5318V1.45765C9.46781 1.32439 9.424 1.21568 9.3364 1.13151C9.2488 1.04384 9.13666 1 9 1C8.86334 1 8.74945 1.04384 8.65834 1.13151C8.57074 1.21568 8.52694 1.32439 8.52694 1.45765V10.5318C8.52694 10.6686 8.57074 10.7808 8.65834 10.8685C8.74945 10.9562 8.86334 11 9 11ZM10.3929 5.90268C10.3929 6.03945 10.435 6.15167 10.5191 6.23935C10.6067 6.32702 10.7188 6.37086 10.8555 6.37086H14.435L15.4862 6.3393L13.7516 8.0121C13.7061 8.05418 13.6728 8.10503 13.6518 8.16465C13.6307 8.22427 13.6202 8.28564 13.6202 8.34876C13.6202 8.48203 13.664 8.59249 13.7516 8.68017C13.8392 8.76433 13.9479 8.80642 14.0775 8.80642C14.1441 8.80642 14.2072 8.79414 14.2668 8.76959C14.3263 8.74505 14.3824 8.70647 14.435 8.65387L16.8371 6.25513C16.8861 6.20252 16.9247 6.14641 16.9527 6.0868C16.9842 6.02718 17 5.96581 17 5.90268C17 5.83605 16.9842 5.77293 16.9527 5.71331C16.9247 5.65369 16.8861 5.59758 16.8371 5.54498L14.435 3.14624C14.3824 3.09363 14.3263 3.05506 14.2668 3.03051C14.2072 3.00596 14.1441 2.99369 14.0775 2.99369C13.9479 2.99369 13.8392 3.03752 13.7516 3.1252C13.664 3.20936 13.6202 3.31808 13.6202 3.45134C13.6202 3.51096 13.6307 3.57058 13.6518 3.63019C13.6728 3.68981 13.7061 3.74242 13.7516 3.78801L15.4862 5.46607L14.435 5.42925H10.8555C10.7188 5.42925 10.6067 5.47308 10.5191 5.56076C10.435 5.64843 10.3929 5.76241 10.3929 5.90268Z'
                fill='var(--fill)'
                stroke='var(--fill)'
                strokeWidth='0.3'
            />
        </svg>
    </div>
);

export const Actions = () => {
    const { addons, dispatch } = useVibe();
    const toggleResize = () => {
        dispatch({ type: Action.setResizeEnabled, payload: { state: !addons.resize.enabled } });
    };
    return (
        <div className='vibe__sidebar__actions'>
            <div className='vibe__sidebar-actions-bar'>
                <Theme />
                <Resize enabled={addons.resize.enabled} onClick={toggleResize} />
            </div>
        </div>
    );
};
